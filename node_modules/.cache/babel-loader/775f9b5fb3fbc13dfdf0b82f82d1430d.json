{"ast":null,"code":"import _objectSpread from\"/mnt/c/Users/16118/React-Redux-Cart-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";import{toast}from\"react-toastify\";var initialState={cartItems:localStorage.getItem(\"cartItems\")?JSON.parse(localStorage.getItem(\"cartItems\")):[],cartTotalQuantity:0,cartTotalAmount:0};var cartSlice=createSlice({name:\"cart\",initialState:initialState,reducers:{addToCart:function addToCart(state,action){var existingIndex=state.cartItems.findIndex(function(item){return item.id===action.payload.id;});if(existingIndex>=0){state.cartItems[existingIndex]=_objectSpread(_objectSpread({},state.cartItems[existingIndex]),{},{cartQuantity:state.cartItems[existingIndex].cartQuantity+1});toast.info(\"Increased product quantity\",{position:\"bottom-left\"});}else{var tempProductItem=_objectSpread(_objectSpread({},action.payload),{},{cartQuantity:1});state.cartItems.push(tempProductItem);toast.success(\"Product added to cart\",{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},decreaseCart:function decreaseCart(state,action){var itemIndex=state.cartItems.findIndex(function(item){return item.id===action.payload.id;});if(state.cartItems[itemIndex].cartQuantity>1){state.cartItems[itemIndex].cartQuantity-=1;toast.info(\"Decreased product quantity\",{position:\"bottom-left\"});}else if(state.cartItems[itemIndex].cartQuantity===1){var nextCartItems=state.cartItems.filter(function(item){return item.id!==action.payload.id;});state.cartItems=nextCartItems;toast.error(\"Product removed from cart\",{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));},removeFromCart:function removeFromCart(state,action){state.cartItems.map(function(cartItem){if(cartItem.id===action.payload.id){var nextCartItems=state.cartItems.filter(function(item){return item.id!==cartItem.id;});state.cartItems=nextCartItems;toast.error(\"Product removed from cart\",{position:\"bottom-left\"});}localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));return state;});},getTotals:function getTotals(state,action){var _state$cartItems$redu=state.cartItems.reduce(function(cartTotal,cartItem){var price=cartItem.price,cartQuantity=cartItem.cartQuantity;var itemTotal=price*cartQuantity;cartTotal.total+=itemTotal;cartTotal.quantity+=cartQuantity;return cartTotal;},{total:0,quantity:0}),total=_state$cartItems$redu.total,quantity=_state$cartItems$redu.quantity;total=parseFloat(total.toFixed(2));state.cartTotalQuantity=quantity;state.cartTotalAmount=total;},clearCart:function clearCart(state,action){state.cartItems=[];localStorage.setItem(\"cartItems\",JSON.stringify(state.cartItems));toast.error(\"Cart cleared\",{position:\"bottom-left\"});}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,decreaseCart=_cartSlice$actions.decreaseCart,removeFromCart=_cartSlice$actions.removeFromCart,getTotals=_cartSlice$actions.getTotals,clearCart=_cartSlice$actions.clearCart;export{addToCart,decreaseCart,removeFromCart,getTotals,clearCart};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","cartItems","localStorage","getItem","JSON","parse","cartTotalQuantity","cartTotalAmount","cartSlice","name","reducers","addToCart","state","action","existingIndex","findIndex","item","id","payload","cartQuantity","info","position","tempProductItem","push","success","setItem","stringify","decreaseCart","itemIndex","nextCartItems","filter","error","removeFromCart","map","cartItem","getTotals","reduce","cartTotal","price","itemTotal","total","quantity","parseFloat","toFixed","clearCart","actions","reducer"],"sources":["/mnt/c/Users/16118/React-Redux-Cart-main/src/slices/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  cartItems: localStorage.getItem(\"cartItems\")\n    ? JSON.parse(localStorage.getItem(\"cartItems\"))\n    : [],\n  cartTotalQuantity: 0,\n  cartTotalAmount: 0,\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducers: {\n    addToCart(state, action) {\n      const existingIndex = state.cartItems.findIndex(\n        (item) => item.id === action.payload.id\n      );\n\n      if (existingIndex >= 0) {\n        state.cartItems[existingIndex] = {\n          ...state.cartItems[existingIndex],\n          cartQuantity: state.cartItems[existingIndex].cartQuantity + 1,\n        };\n        toast.info(\"Increased product quantity\", {\n          position: \"bottom-left\",\n        });\n      } else {\n        let tempProductItem = { ...action.payload, cartQuantity: 1 };\n        state.cartItems.push(tempProductItem);\n        toast.success(\"Product added to cart\", {\n          position: \"bottom-left\",\n        });\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n    },\n    decreaseCart(state, action) {\n      const itemIndex = state.cartItems.findIndex(\n        (item) => item.id === action.payload.id\n      );\n\n      if (state.cartItems[itemIndex].cartQuantity > 1) {\n        state.cartItems[itemIndex].cartQuantity -= 1;\n\n        toast.info(\"Decreased product quantity\", {\n          position: \"bottom-left\",\n        });\n      } else if (state.cartItems[itemIndex].cartQuantity === 1) {\n        const nextCartItems = state.cartItems.filter(\n          (item) => item.id !== action.payload.id\n        );\n\n        state.cartItems = nextCartItems;\n\n        toast.error(\"Product removed from cart\", {\n          position: \"bottom-left\",\n        });\n      }\n\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n    },\n    removeFromCart(state, action) {\n      state.cartItems.map((cartItem) => {\n        if (cartItem.id === action.payload.id) {\n          const nextCartItems = state.cartItems.filter(\n            (item) => item.id !== cartItem.id\n          );\n\n          state.cartItems = nextCartItems;\n\n          toast.error(\"Product removed from cart\", {\n            position: \"bottom-left\",\n          });\n        }\n        localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n        return state;\n      });\n    },\n    getTotals(state, action) {\n      let { total, quantity } = state.cartItems.reduce(\n        (cartTotal, cartItem) => {\n          const { price, cartQuantity } = cartItem;\n          const itemTotal = price * cartQuantity;\n\n          cartTotal.total += itemTotal;\n          cartTotal.quantity += cartQuantity;\n\n          return cartTotal;\n        },\n        {\n          total: 0,\n          quantity: 0,\n        }\n      );\n      total = parseFloat(total.toFixed(2));\n      state.cartTotalQuantity = quantity;\n      state.cartTotalAmount = total;\n    },\n    clearCart(state, action) {\n      state.cartItems = [];\n      localStorage.setItem(\"cartItems\", JSON.stringify(state.cartItems));\n      toast.error(\"Cart cleared\", { position: \"bottom-left\" });\n    },\n  },\n});\n\nexport const { addToCart, decreaseCart, removeFromCart, getTotals, clearCart } =\n  cartSlice.actions;\n\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}