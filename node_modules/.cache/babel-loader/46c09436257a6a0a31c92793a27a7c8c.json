{"ast":null,"code":"import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router\";import{addToCart}from\"../slices/cartSlice\";import{useGetAllProductsQuery}from\"../slices/productsApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useSelector=useSelector(function(state){return state.products;}),products=_useSelector.items,status=_useSelector.status;var dispatch=useDispatch();var history=useHistory();var _useGetAllProductsQue=useGetAllProductsQuery(),data=_useGetAllProductsQue.data,error=_useGetAllProductsQue.error,isLoading=_useGetAllProductsQue.isLoading;console.log(\"Api\",isLoading);var handleAddToCart=function handleAddToCart(product){dispatch(addToCart(product));history.push(\"/cart\");};return/*#__PURE__*/_jsx(\"div\",{className:\"home-container\",children:status===\"success\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Latest Arrivals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:data&&(data===null||data===void 0?void 0:data.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"span\",{children:product.desc}),/*#__PURE__*/_jsxs(\"span\",{className:\"price\",children:[\"\\u20B9\",product.price]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAddToCart(product);},children:\"Add To Cart\"})]},product.id);}))})]}):status===\"pending\"?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"p\",{children:\"Unexpected error occured...\"})});};export default Home;","map":{"version":3,"names":["useDispatch","useSelector","useHistory","addToCart","useGetAllProductsQuery","Home","state","products","items","status","dispatch","history","data","error","isLoading","console","log","handleAddToCart","product","push","map","name","image","desc","price","id"],"sources":["/mnt/c/Users/16118/React-Redux-Cart-main/src/components/Home.jsx"],"sourcesContent":["import { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { addToCart } from \"../slices/cartSlice\";\nimport { useGetAllProductsQuery } from \"../slices/productsApi\";\n\nconst Home = () => {\n  const { items: products, status } = useSelector((state) => state.products);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const { data, error, isLoading } = useGetAllProductsQuery();\n  console.log(\"Api\", isLoading);\n\n  const handleAddToCart = (product) => {\n    dispatch(addToCart(product));\n    history.push(\"/cart\");\n  };\n\n  return (\n    <div className=\"home-container\">\n      {status === \"success\" ? (\n        <>\n          <h2>Latest Arrivals</h2>\n          <div className=\"products\">\n            {data &&\n              data?.map((product) => (\n                <div key={product.id} className=\"product\">\n                  <h3>{product.name}</h3>\n                  <img src={product.image} alt={product.name} />\n                  <div className=\"details\">\n                    <span>{product.desc}</span>\n                    <span className=\"price\">â‚¹{product.price}</span>\n                  </div>\n                  <button onClick={() => handleAddToCart(product)}>\n                    Add To Cart\n                  </button>\n                </div>\n              ))}\n          </div>\n        </>\n      ) : status === \"pending\" ? (\n        <p>Loading...</p>\n      ) : (\n        <p>Unexpected error occured...</p>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,SAAT,KAA0B,qBAA1B,CACA,OAASC,sBAAT,KAAuC,uBAAvC,C,6IAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,iBAAoCJ,WAAW,CAAC,SAACK,KAAD,QAAWA,MAAK,CAACC,QAAjB,EAAD,CAA/C,CAAeA,QAAf,cAAQC,KAAR,CAAyBC,MAAzB,cAAyBA,MAAzB,CACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,QAAO,CAAGT,UAAU,EAA1B,CAEA,0BAAmCE,sBAAsB,EAAzD,CAAQQ,IAAR,uBAAQA,IAAR,CAAcC,KAAd,uBAAcA,KAAd,CAAqBC,SAArB,uBAAqBA,SAArB,CACAC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,SAAnB,EAEA,GAAMG,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,OAAD,CAAa,CACnCR,QAAQ,CAACP,SAAS,CAACe,OAAD,CAAV,CAAR,CACAP,OAAO,CAACQ,IAAR,CAAa,OAAb,EACD,CAHD,CAKA,mBACE,YAAK,SAAS,CAAC,gBAAf,UACGV,MAAM,GAAK,SAAX,cACC,wCACE,uCADF,cAEE,YAAK,SAAS,CAAC,UAAf,UACGG,IAAI,GACHA,IADG,SACHA,IADG,iBACHA,IAAI,CAAEQ,GAAN,CAAU,SAACF,OAAD,qBACR,aAAsB,SAAS,CAAC,SAAhC,wBACE,oBAAKA,OAAO,CAACG,IAAb,EADF,cAEE,YAAK,GAAG,CAAEH,OAAO,CAACI,KAAlB,CAAyB,GAAG,CAAEJ,OAAO,CAACG,IAAtC,EAFF,cAGE,aAAK,SAAS,CAAC,SAAf,wBACE,sBAAOH,OAAO,CAACK,IAAf,EADF,cAEE,cAAM,SAAS,CAAC,OAAhB,oBAA0BL,OAAO,CAACM,KAAlC,GAFF,GAHF,cAOE,eAAQ,OAAO,CAAE,yBAAMP,gBAAe,CAACC,OAAD,CAArB,EAAjB,yBAPF,GAAUA,OAAO,CAACO,EAAlB,CADQ,EAAV,CADG,CADP,EAFF,GADD,CAoBGhB,MAAM,GAAK,SAAX,cACF,iCADE,cAGF,kDAxBJ,EADF,CA6BD,CA1CD,CA4CA,cAAeJ,KAAf"},"metadata":{},"sourceType":"module"}